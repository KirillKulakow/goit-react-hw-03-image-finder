(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{17:function(e,a,t){e.exports=t(47)},22:function(e,a,t){},24:function(e,a,t){},4:function(e,a,t){e.exports={bar:"SearchBar_bar__1QUga",form:"SearchBar_form__eUnqm",formButton:"SearchBar_formButton__2Xl42",formButtonLabel:"SearchBar_formButtonLabel__1iyu5",formInput:"SearchBar_formInput__yzRTn"}},42:function(e,a,t){},43:function(e,a,t){},44:function(e,a,t){},45:function(e,a,t){},46:function(e,a,t){},47:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(15),o=t.n(c),l=(t(22),t(3)),i=t.n(l),m=t(5),u=t(2),s=(t(24),t(4)),f=t.n(s),d=function(e){var a=e.addSearchQuery,t=Object(n.useState)(""),c=Object(u.a)(t,2),o=c[0],l=c[1];return r.a.createElement("header",{className:f.a.bar},r.a.createElement("form",{className:f.a.form,onSubmit:function(e){e.preventDefault(),a(o)}},r.a.createElement("button",{type:"submit",className:f.a.formButton},r.a.createElement("span",{className:f.a.formButtonLabel},"Search")),r.a.createElement("input",{className:f.a.formInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos...",onChange:function(e){l(e.target.value)}})))},p=t(16),g=t.n(p),E=function(){var e=Object(m.a)(i.a.mark((function e(a,t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("//pixabay.com/api/",{params:{q:a,page:t,key:"15687137-c5f0f01058e95950ce1cda2fd",image_type:"photo",orientation:"horizontal",per_page:12}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),b=(t(42),function(e){return r.a.createElement("ul",{className:"ImageGallery"},e.children)}),v=(t(43),function(e){var a=e.images,t=e.openModal,n=e.getModalImage;return r.a.createElement("li",{className:"ImageGalleryItem"},r.a.createElement("img",{src:a.webformatURL,alt:a.tags,onClick:function(){n(a.id),t()},className:"ImageGalleryItem-image"}))}),h=(t(44),function(e){var a=e.modalImg,t=e.closeModal,c=function(e){"Escape"===e.key&&t()};Object(n.useEffect)((function(){window.addEventListener("keydown",(function(e){return c(e)}))}),[]),Object(n.useEffect)((function(){return function(){window.removeEventListener("keydown",(function(e){return c(e)}))}}));return r.a.createElement("div",{className:"Overlay",onClick:function(e){"Overlay"===e.target.className&&t()}},r.a.createElement("div",{className:"Modal"},r.a.createElement("img",{src:a.largeImageURL,alt:a.tags,className:"modal__image"})))}),N=(t(45),function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"loader-inner"},r.a.createElement("div",{className:"loader-line-wrap"},r.a.createElement("div",{className:"loader-line"})),r.a.createElement("div",{className:"loader-line-wrap"},r.a.createElement("div",{className:"loader-line"})),r.a.createElement("div",{className:"loader-line-wrap"},r.a.createElement("div",{className:"loader-line"})),r.a.createElement("div",{className:"loader-line-wrap"},r.a.createElement("div",{className:"loader-line"})),r.a.createElement("div",{className:"loader-line-wrap"},r.a.createElement("div",{className:"loader-line"}))))}),w=(t(46),function(e){var a=e.addNextPageImages;return r.a.createElement("button",{className:"Button",onClick:function(){a()}},"Load more...")});var y=function(){var e=Object(n.useState)([]),a=Object(u.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)(1),l=Object(u.a)(o,2),s=l[0],f=l[1],p=Object(n.useState)(!1),g=Object(u.a)(p,2),y=g[0],O=g[1],j=Object(n.useState)({}),_=Object(u.a)(j,2),S=_[0],I=_[1],B=Object(n.useState)(!0),k=Object(u.a)(B,2),x=k[0],L=k[1],M=Object(n.useState)(""),C=Object(u.a)(M,2),U=C[0],G=C[1],Q=function(e){var a=t.find((function(a){return a.id===e}));I(a)},R=function(){O(!0)};return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1===s&&c([]),L(!0),e.next=5,E(U,s);case 5:a=e.sent,c(1===s?a.data.hits:t.concat(a.data.hits)),L(!1),1!==s&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[U,s]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{addSearchQuery:function(e){f(1),G(e)}}),r.a.createElement(b,null,!!t.length&&t.map((function(e){return r.a.createElement(v,{key:e.id,images:e,getModalImage:Q,openModal:R})}))),x&&r.a.createElement(N,null),!!t.length&&!x&&r.a.createElement(w,{addNextPageImages:function(){f(s+1)}}),y&&r.a.createElement(h,{modalImg:S,closeModal:function(){O(!1),I({})}}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.4c1d88cc.chunk.js.map